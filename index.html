<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'">

    <link rel="stylesheet" type="text/css" href="./style.css">
    <title>Secretary app</title>
</head>
<body>
    <h1>Registro de Llamadas</h1>

    <div class="formulario">
        <label for="nombre">Nombre del llamante:</label>
        <input type="text" id="nombre" placeholder="Nombre">

        <label for="numero">Número de contacto:</label>
        <input type="number" id="numero" placeholder="Número">

        <label for="motivo">Motivo de la llamada:</label>
        <select id="motivo">
            <option value="Consulta">Consulta</option>
            <option value="Reclamo">Reclamo</option>
            <option value="Solicitud">Solicitud</option>
        </select>

        <label for="derivado">Derivado a:</label>
        <input type="text" id="derivado" placeholder="Derivado a">

        <label for="anexo">Anexo:</label>
        <input type="text" id="anexo" placeholder="Anexo">

        <button onclick="guardarLlamada()">Guardar</button>
        <button id="boton-crear-csv" onclick="crearCSV()" style="display: none;">Crear CSV</button>
        <span id="contador" style="display: none;"></span>
    </div>

    <div class="llamadas">
        <h2>Llamadas guardadas</h2>
        <ul id="lista-llamadas"></ul>
    </div>

    <label for="cargar-csv">Cargar archivo(s) CSV:</label>
    <input type="file" id="cargar-csv" accept=".csv" multiple>
    <button onclick="procesarArchivosCSV()">Cargar</button>

    <div id="encabezado-llamadas"class="llamadas">
        <h2>Llamadas guardadas</h2>
        <table id="tabla-llamadas">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nombre</th>
                    <th>Número</th>
                    <th>Motivo</th>
                    <th>Derivado a</th>
                    <th>Anexo</th>
                    <th>Hora de anotación</th>
                </tr>
            </thead>
            <tbody id="lista-llamadas-csv"></tbody>
            </table>
        </div>

    <script src="./renderer.js"></script>
</body>
</html>
